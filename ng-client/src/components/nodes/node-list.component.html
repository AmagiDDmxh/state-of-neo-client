<div class="row no-margin">
    <div class="col-md-8 row no-margin padding-10">
        <div class="col-md-12 row no-margin padding-5 panel-body">
            <div class="col-md-12 text-center">
                <h3 class="bold">NODES</h3>
            </div>
            <table class="table table-responsive" *ngIf="pageResults && !isLoading">
                <thead class="text-center">
                    <tr>
                        <th class="col-md-1">
                            Flag
                        </th>
                        <th class="col-md-4">
                            Url
                        </th>
                        <th class="col-md-4">
                            Height
                            (synced/behind)
                        </th>
                        <th class="col-md-1">
                            Peers
                        </th>
                        <th class="col-md-2">
                            Latency
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="text-grey" *ngFor="let node of nodes | paginate: { itemsPerPage: 10, currentPage: page }">
                        <td>
                            <a routerLink="/node/{{node.id}}" routerLinkActive="router-link-active">
                                <img class="img img-responsive img-thumbnail" width="40" height="40" src="assets/icons/tsvg/flag-{{node.locale}}.svg" />
                            </a>
                        </td>
                        <td>
                            <a routerLink="/node/{{node.id}}" routerLinkActive="router-link-active" class="text-grey">
                                <strong>{{node.url}}</strong>
                            </a>
                        </td>
                        <td>
                            <div *ngIf="node.blockCount">
                                {{node.blockCount}}
                                <i class="fas fa-check-circle text-success" *ngIf="bestBlock - node.blockCount == 0"></i>
                                {{bestBlock - node.blockCount == 0 ? '' : '(-' + (bestBlock - node.blockCount) + ')'}}
                            </div>
                        </td>
                        <td>
                            <div *ngIf="node.connected">
                                {{node.connected}}
                            </div>
                        </td>
                        <td>
                            <div *ngIf="node.latency">
                                <span class="{{getClassForNodeLatency(node)}}">
                                    <i class="fas fa-signal"></i> {{node.latency}} ms
                                </span>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="col-md-12 padding-10 text-center">
                <div class="spinner" [ngClass]="{ 'hidden': !loading }"></div>
                <pagination-controls (pageChange)="page = $event"></pagination-controls>
            </div>
            <app-loader *ngIf="isLoading"></app-loader>
        </div>
    </div>
    <div class="col-md-4 col-sm-4 col-xs-12 text-center no-padding">
        <app-consensus-list></app-consensus-list>
    </div>
</div>